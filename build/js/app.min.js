setTimeout(() => document.querySelector(".footer").style.cssText = "margin-top: 2rem", 150);document.documentElement.style.setProperty('--animate-duration', '.5s');
let pagina=1;document.addEventListener("DOMContentLoaded",()=>app());const app=()=>{mostrarProductos();eliminarSeccion();mostrarSeccion();cambiarSeccion();};const mostrarProductos=async()=>{try{const response=await fetch("./productos.json");const db=await response.json();const camisa=document.createElement("div");camisa.classList.add("grafico","grafico--camisas");const node=document.createElement("div");node.classList.add("grafico","grafico--node");document.querySelector(".grid").appendChild(camisa);document.querySelector(".grid").appendChild(node);db.productos.forEach((product)=>{const{id,nombre,precio}=product;const urlImagen=`./build/img/${id}.webp`;const productos=document.createElement("div");productos.classList.add("producto");document.querySelector(".producto");const enlace=document.createElement("a");enlace.addEventListener("click",async(e)=>{pagina=3;const mostrarProducto=document.querySelector(`#paso-${pagina}`);mostrarProducto.classList.add("mostrar-seccion");const camisaCompra=document.querySelector("#camisa__imagen");camisaCompra.src=urlImagen;const nombreCompra=document.querySelector(".nombre-compra");nombreCompra.textContent=`${nombre} ( $${precio} )`;eliminarSeccion();const tabActual=document.querySelector(`[data-paso="${1}"]`);tabActual.classList.add("nav__enlace--activo");tabActual.scrollIntoView({behavior:"smooth",block:"start"})});const img=document.createElement("img");img.src=urlImagen;img.alt="Camisa";img.classList.add("producto__img");const productoInf=document.createElement("div");productoInf.classList.add("producto__inf");const productoName=document.createElement("p");productoName.textContent=nombre;productoName.classList.add("producto__name");const productoPrecio=document.createElement("p");productoPrecio.textContent=`$${precio}`;productoPrecio.classList.add("producto__precio");productoInf.appendChild(productoName);productoInf.appendChild(productoPrecio);enlace.appendChild(img);enlace.appendChild(productoInf);productos.appendChild(enlace);document.querySelector(".grid").appendChild(productos);console.log(productos)})}catch(error){console.log(error)}};const mostrarSeccion=()=>{const paginaActual=document.querySelector(`#paso-${pagina}`);paginaActual.classList.add("mostrar-seccion");const tabActual=document.querySelector(`[data-paso="${pagina}"]`);tabActual.classList.add("nav__enlace--activo");if(pagina==="2"){tabActual.scrollIntoView({behavior:"smooth",block:"start"})}};
const eliminarSeccion=()=>{const paginaAnterior=document.querySelector(".mostrar-seccion");paginaAnterior.classList.remove("mostrar-seccion");const tabAnterior=document.querySelector(".nav__enlace--activo");tabAnterior.classList.remove("nav__enlace--activo")}
const cambiarSeccion=()=>{const seccion=document.querySelectorAll("A");seccion.forEach(enlace=>{enlace.addEventListener("click",(e)=>{pagina=e.target.dataset.paso;eliminarSeccion();mostrarSeccion();document.documentElement.style.setProperty('--animate-duration','.5s')})})};const btnSwitch=document.querySelector("#switch");btnSwitch.addEventListener("click",()=>{document.body.classList.toggle("dark");btnSwitch.classList.toggle("active")});